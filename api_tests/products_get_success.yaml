# Test generated by RoostGPT for test beetbox using AI Type Open AI and AI Model gpt-4

# RoostTestHash=70199667a6

config:
  target: "{{ $processEnvironment.API_HOST }}"
  ensure:
    - expect: "statusCode"
      equals: 200
  plugins:
    expect: {}
  payload:
    path: "products_get_success.csv"
    fields:
      - "id"
      - "name"
      - "description"
      - "price"
    skipHeader: true

scenarios:
  - name: "Test Get All Products API"
    flow:
      - get:
          url: "/products"
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          beforeRequest: "log"
          afterResponse: "log"
          expect:
            - hasProperty: "headers"
            - hasProperty: "body"
            - statusCode: 200
            - equals:
                - "{{ response.body.id }}"
                - "{{ payload.id }}"
            - equals:
                - "{{ response.body.name }}"
                - "{{ payload.name }}"
            - equals:
                - "{{ response.body.description }}"
                - "{{ payload.description }}"
            - equals:
                - "{{ response.body.price }}"
                - "{{ payload.price }}"
          think: 1
