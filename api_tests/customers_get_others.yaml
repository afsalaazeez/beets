# Test generated by RoostGPT for test beet-box using AI Type Open AI and AI Model gpt-4


# RoostTestHash=c190dc1b92

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 5
      arrivalRate: 1
  payload:
    path: "customers_get_others.csv"
    fields:
      - "username"
      - "password"
  plugins:
    expect: {}
  defaults:
    headers:
      Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"

scenarios:
  - name: "Non-Success API Responses"
    flow:
      - log: "Request: Invalid GET /customers"
        get:
          url: "/customers/invalid"
          expect:
            - statusCode: 404 # Expecting 404 Not Found
        think: 5

      - log: "Request: GET /customers with Invalid Token"
        get:
          url: "/customers"
          headers:
            Authorization: "Bearer invalid_token"
          expect:
            - statusCode: 401 # Expecting 401 Unauthorized
        think: 5

      - log: "Request: GET /customers with Malformed Token"
        get:
          url: "/customers"
          headers:
            Authorization: "Bearer malformed_token"
          expect:
            - statusCode: 400 # Expecting 400 Bad Request
        think: 5

      - log: "Request: POST /customers with Invalid Payload"
        post:
          url: "/customers"
          json:
            username: "{{ username }}"
            password: "invalid_password"
          expect:
            - statusCode: 400 # Expecting 400 Bad Request
        think: 5

      - log: "Request: POST /customers without Required Fields"
        post:
          url: "/customers"
          json:
            username: "{{ username }}"
          expect:
            - statusCode: 400 # Expecting 400 Bad Request
        think: 5

      - log: "Request: GET /customers with Server Error"
        get:
          url: "/customers"
          expect:
            - statusCode: 500 # Expecting 500 Internal Server Error
        think: 5
